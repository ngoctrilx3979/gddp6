(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{29:(e,a,t)=>{"use strict";t.d(a,{Ks:()=>c,Q1:()=>n,VE:()=>i});var s=t(8915),d=t(5317);let l=(0,d.rJ)(s.db,"lessons");async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=(0,d.P)(l,(0,d.My)("createdAt","desc"),(0,d.AB)(e));return(await (0,d.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}let n=async(e,a,t)=>await (0,d.gS)(l,{title:e,topicId:a,description:t,createdAt:(0,d.O5)()}),c=async()=>{let e=(0,d.P)(l,(0,d.My)("createdAt","desc"));return(await (0,d.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}},1673:(e,a,t)=>{Promise.resolve().then(t.bind(t,9197))},5156:(e,a,t)=>{"use strict";t.d(a,{DU:()=>n,Tw:()=>r,do:()=>c,xN:()=>i});var s=t(8915),d=t(5317);let l=(0,d.rJ)(s.db,"topics"),i=async(e,a,t)=>await (0,d.gS)(l,{name:e,order:a,description:t}),n=async()=>(await (0,d.GG)(l)).docs.map(e=>({id:e.id,...e.data()})),c=async e=>await (0,d.kd)((0,d.H9)(s.db,"topics",e)),r=async(e,a,t,l)=>await (0,d.mZ)((0,d.H9)(s.db,"topics",e),{name:a,order:t,description:l})},8915:(e,a,t)=>{"use strict";t.d(a,{db:()=>n,h:()=>r,j:()=>c});var s=t(3915),d=t(5317),l=t(6203);let i=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)({apiKey:"AIzaSyCDH6_zclviM6KZ0VfL7jRZQwtOOMqQYj0",authDomain:"gddp6-34b1d.firebaseapp.com",projectId:"gddp6-34b1d",storageBucket:"gddp6-34b1d.firebasestorage.app",messagingSenderId:"510838318611",appId:"1:510838318611:web:39e268e0336a06b463c1e6",measurementId:"G-0EE3D187E0"}),n=(0,d.aU)(i),c=(0,l.xI)(i),r=new l.HF},9197:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5155),d=t(2115),l=t(5156),i=t(29);function n(){let[e,a]=(0,d.useState)(""),[t,n]=(0,d.useState)(""),[c,r]=(0,d.useState)(""),[o,u]=(0,d.useState)([]),[h,p]=(0,d.useState)([]),b=async()=>{let[e,a]=await Promise.all([(0,l.DU)(),(0,i.Ks)()]);u(e),p(a)};(0,d.useEffect)(()=>{b()},[]);let m=async()=>{if(!e||!t||!c)return alert("Vui l\xf2ng điền đầy đủ th\xf4ng tin");await (0,i.Q1)(e,t,c),a(""),n(""),r(""),b()};return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-blue-700 mb-6",children:"Th\xeam B\xe0i học"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow space-y-4 mb-8",children:[(0,s.jsx)("input",{type:"text",placeholder:"Ti\xeau đề b\xe0i học",value:e,onChange:e=>a(e.target.value),className:"border p-3 w-full rounded"}),(0,s.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"border p-3 w-full rounded",children:[(0,s.jsx)("option",{value:"",children:"-- Chọn b\xe0i học "}),o.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)("textarea",{value:c,onChange:e=>r(e.target.value),placeholder:"Nhập nội dung b\xe0i học..."}),(0,s.jsx)("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Lưu b\xe0i học "})]}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Danh s\xe1ch b\xe0i học"}),(0,s.jsx)("ul",{className:"space-y-2",children:h.map(e=>{var a,t;return(0,s.jsxs)("li",{className:"bg-gray-100 p-4 rounded",children:[(0,s.jsx)("h3",{className:"font-bold",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date((null==(a=e.createdAt)?void 0:a.seconds)*1e3).toLocaleString()," | B\xe0i học: ",(null==(t=o.find(a=>a.id===e.categoryId))?void 0:t.name)||"---"]})]},e.id)})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,811,645,441,684,358],()=>a(1673)),_N_E=e.O()}]);