(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{3965:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(5155),r=s(2115),n=s(6273);function d(){let[e,a]=(0,r.useState)([]),[s,d]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[c,o]=(0,r.useState)(""),[u,h]=(0,r.useState)(null),[m,p]=(0,r.useState)({name:"",order:"",description:""}),x=async()=>{let e=await (0,n.bW)();e.sort((e,a)=>e.order-a.order),a(e)};(0,r.useEffect)(()=>{x()},[]);let b=async()=>{if(!s||!l)return alert("Vui l\xf2ng điền đầy đủ th\xf4ng tin");await (0,n.Ah)(s,Number(l),c),d(""),i(""),o(""),x()},g=async e=>{await (0,n.K7)(e),x()},j=async()=>{if(!m.name||!m.order)return alert("Thiếu th\xf4ng tin");await (0,n.st)(u,m.name,Number(m.order),m.description),h(null),p({name:"",order:"",description:""}),x()};return(0,t.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-blue-700",children:"Quản l\xfd danh mục"}),(0,t.jsxs)("div",{className:"bg-white shadow p-6 rounded-lg mb-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"T\xean danh mục",value:s,onChange:e=>d(e.target.value),className:"border p-3 rounded"}),(0,t.jsx)("input",{type:"number",placeholder:"Thứ tự",value:l,onChange:e=>i(e.target.value),className:"border p-3 rounded"}),(0,t.jsx)("textarea",{placeholder:"Diễn giải",value:c,onChange:e=>o(e.target.value),className:"border p-3 rounded md:col-span-2"}),(0,t.jsx)("button",{onClick:b,className:"bg-blue-600 text-white rounded px-4 py-2 hover:bg-blue-700",children:"Th\xeam danh mục"})]}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full table-auto text-sm",children:[(0,t.jsx)("thead",{className:"bg-blue-50 text-left",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-3",children:"Thứ tự"}),(0,t.jsx)("th",{className:"p-3",children:"T\xean danh mục"}),(0,t.jsx)("th",{className:"p-3",children:"Diễn giải"}),(0,t.jsx)("th",{className:"p-3",children:"H\xe0nh động"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsx)("tr",{className:"border-t",children:u===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("input",{type:"number",value:m.order,onChange:e=>p({...m,order:e.target.value}),className:"border p-1 rounded w-16"})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("input",{value:m.name,onChange:e=>p({...m,name:e.target.value}),className:"border p-1 rounded w-full"})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("textarea",{value:m.description,onChange:e=>p({...m,description:e.target.value}),className:"border p-1 rounded w-full resize-none h-20"})}),(0,t.jsxs)("td",{className:"p-3 space-x-2",children:[(0,t.jsx)("button",{onClick:j,className:"text-green-600 hover:underline",children:"Lưu"}),(0,t.jsx)("button",{onClick:()=>h(null),className:"text-gray-600 hover:underline",children:"Hủy"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{className:"p-3",children:e.order}),(0,t.jsx)("td",{className:"p-3",children:e.name}),(0,t.jsx)("td",{className:"p-3",children:e.description}),(0,t.jsxs)("td",{className:"p-3 space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{h(e.id),p({name:e.name,order:e.order,description:e.description})},className:"text-blue-600 hover:underline",children:"Sửa"}),(0,t.jsx)("button",{onClick:()=>g(e.id),className:"text-red-600 hover:underline",children:"X\xf3a"})]})]})},e.id))})]})})]})}},6273:(e,a,s)=>{"use strict";s.d(a,{Ah:()=>d,K7:()=>i,bW:()=>l,st:()=>c});var t=s(8915),r=s(5317);let n=(0,r.rJ)(t.db,"categories"),d=async(e,a,s)=>await (0,r.gS)(n,{name:e,order:a,description:s}),l=async()=>(await (0,r.GG)(n)).docs.map(e=>({id:e.id,...e.data()})),i=async e=>await (0,r.kd)((0,r.H9)(t.db,"categories",e)),c=async(e,a,s,n)=>await (0,r.mZ)((0,r.H9)(t.db,"categories",e),{name:a,order:s,description:n})},7459:(e,a,s)=>{Promise.resolve().then(s.bind(s,3965))},8915:(e,a,s)=>{"use strict";s.d(a,{db:()=>l,h:()=>c,j:()=>i});var t=s(3915),r=s(5317),n=s(6203);let d=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyCDH6_zclviM6KZ0VfL7jRZQwtOOMqQYj0",authDomain:"gddp6-34b1d.firebaseapp.com",projectId:"gddp6-34b1d",storageBucket:"gddp6-34b1d.firebasestorage.app",messagingSenderId:"510838318611",appId:"1:510838318611:web:39e268e0336a06b463c1e6",measurementId:"G-0EE3D187E0"}),l=(0,r.aU)(d),i=(0,n.xI)(d),c=new n.HF}},e=>{var a=a=>e(e.s=a);e.O(0,[992,811,645,441,684,358],()=>a(7459)),_N_E=e.O()}]);